!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jspdf"),require("html2canvas")):"function"==typeof define&&define.amd?define(["jspdf","html2canvas"],t):"object"==typeof exports?exports["jspdf-html2canvas"]=t(require("jspdf"),require("html2canvas")):e.html2PDF=t(e.jspdf,e.html2canvas)}(window,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const r=n(1),a=n(2),{defaultOpts:o}=n(3),{jsPDF:s}=r,f=function(e){return{"image/jpeg":"JPEG","image/png":"PNG","image/webp":"WEBP"}[e]};function p(e,t,n){let{pdf:r,pdfWidth:a,pdfHeight:i,position:o}=t;const{pageData:s,imgHeight:p}=function({canvas:e,pdf:t,pdfWidth:n,opts:r}){const a=e.toDataURL(r.imageType,1),i=t.getImageProperties(a);return{pageData:a,imgHeight:n/i.width*i.height}}({canvas:e,pdf:r,pdfWidth:a,opts:n});let c=p;if(o<0&&(r.addPage(),o=0),c<i)r.addImage(s,f(n.imageType),0,o,a,p),o-=c;else for(;c>0;)r.addImage(s,f(n.imageType),0,o,a,p),c-=i,o-=i,c>0&&r.addPage();return{pdf:r,position:o}}e.exports=async function(e,t={}){const n=function(e){const t=new s(e.jsPDF),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight();return{pdf:t,pdfWidth:n,pdfHeight:r,position:0}}(t=Object.assign(o,t));if(e.length)for(let r=0;r<e.length;r++){const i=await a(e[r],t.html2canvas),{pdf:o,position:s}=p(i,n,t);n.pdf=o,n.position=s}else{p(await a(e,t.html2canvas),n,t)}t.watermark?function(e,t){const n=new Image,r="string"==typeof e.watermark?e.watermark:e.watermark.src;r?(n.onload=function(){t(n)},n.crossOrigin="Anonymous",n.src=r):t()}(t,(function(e){e&&(t.watermarkImg=e),n.pdf=function(e,t){const n=e.internal.getNumberOfPages();if(t.watermarkImg){const r=e.getImageProperties(t.watermarkImg),a=t.watermark.scale||1;for(i=1;i<=n;i++)e.setPage(i),t.watermark.src&&t.watermark.handler?t.watermark.handler.call(t,e,t.watermarkImg):e.addImage(t.watermarkImg,"PNG",(e.internal.pageSize.width-r.width*a)/2,(e.internal.pageSize.height-r.height*a)/2,r.width*a,r.height*a)}else if("function"==typeof t.watermark)for(i=1;i<=n;i++)e.setPage(i),t.watermark.call(t,e);else console.warn('[jspdf-html2canvas] "watermark" option should be either "string" or "function" type.');return e}(n.pdf,t),t.success.call(t,n.pdf)})):t.success.call(t,n.pdf)}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports.defaultOpts={jsPDF:{unit:"px",format:"a4"},html2canvas:{imageTimeout:15e3,logging:!0,useCORS:!1},imageType:"image/jpeg",output:"jspdf-generate.pdf",success:function(e){e.save(this.output)}}}])}));